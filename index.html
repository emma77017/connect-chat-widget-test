   <!-- Chat Support - Start -->
<script type="text/javascript">
  (function(w, d, x, id) {
    s = d.createElement('script');
    s.src = 'https://d22mbxk3w9mny2.cloudfront.net/acButton.js';
    s.async = 1;
    s.id = id;
    d.getElementsByTagName('head')[0].appendChild(s);
    w[x] = w[x] || function() { (w[x].ac = w[x].ac || []).push(arguments) };
  })(window, document, 'amazon_connect', 'd897a0f5-828f-47d0-8c72-d06394228c0e');
  // Get current URL and browser default language
  var currentUrl = window.location.href;
  var browserLanguage = navigator.language || navigator.userLanguage;
  // Log the URL and language to the console (optional for debugging)
  // console.log('Current URL:', currentUrl);
  // console.log('Browser Language:', browserLanguage);
  amazon_connect('styles', {
    iconType: 'CHAT',
    openChat: { color: '#ffffff', backgroundColor: '#b90404' },  // Updated color scheme
    closeChat: { color: '#ffffff', backgroundColor: '#b90404' }  // Updated color scheme
  });
  amazon_connect('snippetId', 'QVFJREFIZ2VzVWFLWmR3a2JlSC9hNFh6Y2xEYWxtNWgrdWpib1dQbHJqRnplTTVQVkFFSFNUbGtwODFwSzQyNEQ2cElzRGpQQUFBQWJqQnNCZ2txaGtpRzl3MEJCd2FnWHpCZEFnRUFNRmdHQ1NxR1NJYjNEUUVIQVRBZUJnbGdoa2dCWlFNRUFTNHdFUVFNdHNQTXk4citjdnlONERmakFnRVFnQ3NUQ2VGcDZaV3A1K2VJN1BJMGxBbWNGOE9GQmZIczRKZXlrWGNBNW9CL2NvbVZ2ZjlFbkJ2NzVzYXI6Ok8wYTdzSnFxN1NEREJKVlRuVGsyc0pyZytXWnphajMwNCtTVE1BRWdIUTcvMnhjWStLN0pLNnFYN1ZMY2NNN0htbkR1VzFVeEpGVFdqMjczSzNBdFdYNHI4ZEtLeDEzakloamFWYUFNbGt1ZVBiamo0ZjdESkZKR3FGcXpHVzdpQmRrT2pmLzhFNmNrbnJXQUJQOFFYSXk3T2FLaXZXZz0=');
  amazon_connect('supportedMessagingContentTypes', [
    'text/plain',
    'text/markdown',
    'application/vnd.amazonaws.connect.message.interactive',
    'application/vnd.amazonaws.connect.message.interactive.response'
  ]);
  // Pass contact attributes
  amazon_connect('contactAttributes', {
    'CurrentUrl': currentUrl,
    'BrowserLanguage': browserLanguage
  });
  // Authenticate function
  amazon_connect('authenticate', function(callback) {
    window.fetch('https://at0ef4ixu8.execute-api.us-west-2.amazonaws.com/test/token')
      .then(res => {
        if (res.ok) {
          return res.json();
        }
        throw new Error('Network response was not ok');
      })
      .then(data => {
        let body = JSON.parse(data.body);
        if (body && body.token) {
          callback(body.token);
        } else {
          throw new Error('Token is missing or undefined');
        }
      })
      .catch(error => {
        console.error('Error fetching JWT:', error);
      });
  });
</script>
